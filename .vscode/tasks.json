{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Start Home Assistant (devcontainer)",
            "type": "shell",
            "command": "/bin/bash",
            "args": [
                "-lc",
                "(if [ -x /opt/venv/bin/hass ]; then /opt/venv/bin/hass -c /workspaces/grocy/.homeassistant; else python3 -m homeassistant --config /workspaces/grocy/.homeassistant; fi)"
            ],
            "problemMatcher": [],
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "Stop Home Assistant (kill)",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "pkill -f 'homeassistant' || true"
            ],
            "problemMatcher": []
        },
        {
            "label": "Start Home Assistant (with project venv)",
            "type": "shell",
            "command": "/bin/bash",
            "args": [
                "-lc",
                "if [ -f .venv/bin/activate ]; then source .venv/bin/activate; elif [ -f /opt/venv/bin/activate ]; then source /opt/venv/bin/activate; fi && if [ -x \".venv/bin/hass\" ]; then .venv/bin/hass -c /workspaces/grocy/.homeassistant; elif [ -x /opt/venv/bin/hass ]; then /opt/venv/bin/hass -c /workspaces/grocy/.homeassistant; else python3 -m homeassistant --config /workspaces/grocy/.homeassistant; fi"
            ],
            "problemMatcher": [],
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        },
        {
            "label": "Refresh Home Assistant runtime",
            "type": "shell",
            "command": "/bin/bash",
            "args": [
                "-lc",
                "bash .devcontainer/scripts/refresh_homeassistant_runtime.sh"
            ],
            "problemMatcher": [],
            "isBackground": false,
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            }
        }
    ]
}